(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/videoplay/videoplay"],{"07d4":function(t,e,s){"use strict";s.r(e);var a=s("2af3"),i=s("b103");for(var n in i)"default"!==n&&function(t){s.d(e,t,function(){return i[t]})}(n);s("af21");var r=s("2877"),o=Object(r["a"])(i["default"],a["a"],a["b"],!1,null,null,null);e["default"]=o.exports},"2af3":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"VP-back"},[s("view",{staticClass:"VP-screen"},[s("view",{staticClass:"screen"},[s("video",{staticClass:"play-video",attrs:{src:t.filmUrl,controls:"",eventid:"561e0bfd-0"},on:{error:t.videoErrorCallback}})])]),t._m(0),s("view",{staticClass:"data_box column_center"},[s("image",{staticClass:"filmmaker-pic",attrs:{src:"../../static/icons/logo.png"}}),t._m(1),s("button",{staticClass:"follow_button",attrs:{size:"mini",plain:"true","hover-class":"button-hover",type:"primary"}},[t._v("Follow")])],1),s("view",{staticClass:"control_interface"},[s("scroll-view",{staticClass:"top-menu-view",attrs:{"scroll-x":"true","scroll-left":t.scrollLeft}},t._l(t.menuTabs,function(e,a){return s("block",{key:a},[s("view",{staticClass:"menu-one-view",attrs:{id:"tabNum"+a,eventid:"561e0bfd-1-"+a},on:{click:function(e){t.swichMenu(a)}}},[s("view",{class:[t.currentTab==a?"menu-one-act":"menu-one"]},[s("view",{staticClass:"menu-one-txt"},[t._v(t._s(e.name))]),s("view",{staticClass:"menu-one-bottom"},[s("view",{staticClass:"menu-one-bottom-color"})])])])])})),s("swiper",{staticClass:"swiper-box-list",attrs:{current:t.currentTab,duration:"300",eventid:"561e0bfd-4"},on:{change:t.swiperChange}},t._l(t.swiperDateList,function(e,a){return s("block",{key:a},[s("swiper-item",{attrs:{mpcomid:"561e0bfd-0-"+a}},[s("scroll-view",{staticClass:"swiper-one-list",attrs:{"scroll-y":"true",eventid:"561e0bfd-2-"+a},on:{scrolltolower:function(e){t.loadMore(a)}}},[s("block",[s("view",{staticClass:"video-info-card"},[s("view",{staticClass:"video-pic-box"},[s("image",{staticClass:"video-pic-set",attrs:{src:"../../static/assets/images2.jpg",mode:""}})]),s("view",{staticClass:"video-info-box"},[s("text",{staticClass:"filmname"},[t._v("Vendetta (ven·dét·ta)")]),s("view",{staticClass:"actors"},[s("text",{staticClass:"actor-name"},[t._v("Film Maker:")]),s("text",{staticClass:"actor-name"},[t._v("Andrea Facheris")])])])]),s("text",{staticClass:"filmintro"})])],1)],1),s("swiper-item",{attrs:{mpcomid:"561e0bfd-1-"+a}},[s("scroll-view",{staticClass:"swiper-one-list",attrs:{"scroll-y":"true",eventid:"561e0bfd-3-"+a},on:{scrolltolower:function(e){t.loadMore(a)}}},[s("block",[s("view",{staticClass:"new_comment hor_center"},[s("text",{staticClass:"latest_comment hor_center"},[t._v("Latest comment")])]),t._l(t.comments,function(e,a){return s("view",{key:e.id,staticClass:"videocomment"},[s("view",{staticClass:"border_line"}),s("view",{staticClass:"user_info"},[s("image",{staticClass:"comment_profile_pic",attrs:{src:"../../static/icons/logo.png"}}),s("view",{staticClass:"user_info_name"},[s("text",{staticClass:"user_info_name_text"},[t._v(t._s(e.fromUserId))])])]),s("view",{staticClass:"comment_box"},[s("view",{staticClass:"time"},[s("text",{staticClass:"time_text"},[t._v(t._s(e.createDate))])]),s("view",{staticClass:"content_box"},[s("text",{staticClass:"content_text"},[t._v(t._s(e.comment))]),s("view",{staticClass:"text_i"})]),s("view",{staticClass:"comment_show super_center"},[t._v("Show more")])])])})],2)],1)],1)],1)})),s("view",{staticClass:"V-com-area"},[s("form",{attrs:{eventid:"561e0bfd-5"},on:{submit:t.comment}},[s("view",{staticClass:"com-write"},[s("input",{staticClass:"input",attrs:{name:"comment",placeholder:"Write some comment?"}}),s("button",{attrs:{formType:"submit"}},[t._v("send")])],1)])],1)],1),t._m(2)])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"filmmaker_title column_center"},[s("text",{staticClass:"filmmaker_title_text"},[t._v("Director")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{staticClass:"filmmaker-name column_center"},[s("text",{staticClass:"filmmaker-name-text"},[t._v("Guetta Xia")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",{},[s("image",{staticClass:"like_button",attrs:{src:"../../static/icons/like2.png",mode:"aspectFit"}})])}];s.d(e,"a",function(){return a}),s.d(e,"b",function(){return i})},"2f20":function(t,e,s){"use strict";s("fb50");var a=n(s("b0ce")),i=n(s("07d4"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(i.default))},4206:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(s("a34a"));function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e,s,a,i,n,r){try{var o=t[n](r),c=o.value}catch(l){return void s(l)}o.done?e(c):Promise.resolve(c).then(a,i)}function r(t){return function(){var e=this,s=arguments;return new Promise(function(a,i){var r=t.apply(e,s);function o(t){n(r,a,i,o,c,"next",t)}function c(t){n(r,a,i,o,c,"throw",t)}o(void 0)})}}var o={data:function(){return{scrollLeft:0,isClickChange:!1,currentTab:0,menuTabs:[{name:"Detail"},{name:"Comment"}],actorinfo:[{name:"Sam"},{name:"David"}],swiperDateList:[[],[]],filmUrl:"",film:{},comments:{}}},changeIndicatorDots:function(t){this.indicatorDots=!this.indicatorDots},changeAutoplay:function(t){this.autoplay=!this.autoplay},intervalChange:function(t){this.interval=t.target.value},durationChange:function(t){this.duration=t.target.value},onLoad:function(e){for(var s=0;s<this.swiperDateList.length;s++)this.getDateList(s);t.setNavigationBarTitle({title:"TheShortFilmShow"});var a=JSON.parse(e.film);this.filmUrl=this.$serverUrl+a.videoPath,this.film=a,console.log(a),this.getComment()},methods:{swichMenu:function(){var t=r(a.default.mark(function t(e){return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.currentTab!=e){t.next=4;break}return t.abrupt("return",!1);case 4:this.currentTab=e,this.setScrollLeft(e);case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),swiperChange:function(){var t=r(a.default.mark(function t(e){var s;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:s=e.target.current,this.setScrollLeft(s),this.currentTab=s;case 3:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),setScrollLeft:function(){var e=r(a.default.mark(function e(s){var i,n,r,o;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i=0,n=0;case 2:if(!(n<=s)){e.next=10;break}return e.next=5,this.getWidth("tabNum"+n);case 5:r=e.sent,i+=r.width;case 7:n++,e.next=2;break;case 10:o=t.getSystemInfoSync().windowWidth,this.scrollLeft=i>o?i-o:0;case 12:case"end":return e.stop()}},e,this)}));function s(t){return e.apply(this,arguments)}return s}(),getWidth:function(e){return new Promise(function(s,a){t.createSelectorQuery().select("#"+e).fields({size:!0,scrollOffset:!0},function(t){s(t)}).exec()})},loadMore:function(t){console.log("正在加载更多数据。。。"),this.getDateList(t)},getDateList:function(t){for(var e=0;e<20;e++){var s=this.menuTabs[t].name+this.swiperDateList[t].length;this.swiperDateList[t].push(s)}},comment:function(e){var s=e.detail.value,a=this;t.request({url:a.$serverUrl+"/video/saveComment",data:{videoId:a.film.id,fromUserId:"test",comment:s.comment},method:"POST",header:{"content-type":"application/json"},success:function(t){console.log(t.data)}})},getComment:function(){var e=this;t.request({url:e.$serverUrl+"/video/getAllComments",data:{videoId:e.film.id},method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},success:function(t){e.comments=t.data.data.rows,console.log(e.comments)}})}}};e.default=o}).call(this,s("6e42")["default"])},af21:function(t,e,s){"use strict";var a=s("dbf9"),i=s.n(a);i.a},b103:function(t,e,s){"use strict";s.r(e);var a=s("4206"),i=s.n(a);for(var n in a)"default"!==n&&function(t){s.d(e,t,function(){return a[t]})}(n);e["default"]=i.a},dbf9:function(t,e,s){}},[["2f20","common/runtime","common/vendor"]]]);