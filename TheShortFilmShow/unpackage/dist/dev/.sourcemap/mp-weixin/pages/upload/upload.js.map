{"version":3,"sources":["webpack:///C:/Users/Guetta Xia/Desktop/动态SFS/short-film-show-client/TheShortFilmShow/main.js","webpack:///C:/Users/Guetta Xia/Desktop/动态SFS/short-film-show-client/TheShortFilmShow/pages/upload/upload.vue?ab74","webpack:///C:/Users/Guetta Xia/Desktop/动态SFS/short-film-show-client/TheShortFilmShow/pages/upload/upload.vue?75dc","webpack:///C:/Users/Guetta Xia/Desktop/动态SFS/short-film-show-client/TheShortFilmShow/pages/upload/upload.vue?6cdb","webpack:///C:/Users/Guetta Xia/Desktop/动态SFS/short-film-show-client/TheShortFilmShow/pages/upload/upload.vue?5608","webpack:///C:/Users/Guetta Xia/Desktop/动态SFS/short-film-show-client/TheShortFilmShow/static/weCropper.js","webpack:///C:/Users/Guetta Xia/Desktop/动态SFS/short-film-show-client/TheShortFilmShow/pages/upload/upload.vue","webpack:///C:/Users/Guetta Xia/Desktop/动态SFS/short-film-show-client/TheShortFilmShow/pages/upload/upload.vue?4af2","webpack:///C:/Users/Guetta Xia/Desktop/动态SFS/short-film-show-client/TheShortFilmShow/pages/upload/upload.vue?29a8"],"names":["Page","App","global","factory","module","exports","device","TOUCH_STATE","firstLetterUpper","str","charAt","toUpperCase","slice","setTouchState","instance","_len","arguments","length","arg","Array","_key","forEach","key","i","undefined","validator","o","Object","defineProperties","getDevice","wx","getSystemInfoSync","_typeof","Symbol","iterator","obj","constructor","prototype","classCallCheck","Constructor","TypeError","createClass","target","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_i","_s","next","done","push","value","err","isArray","tmp","DEFAULT","id","default","get","get$$1","set","set$$1","width","height","scale","zoom","src","cut","onReady","ready","onBeforeImageLoad","beforeImageLoad","onImageLoad","imageLoad","onBeforeDraw","beforeDraw","prepare","self","_getDevice","windowWidth","attachPage","pages","getCurrentPages","pageContext","wecropper","createCtx","ctx","createCanvasContext","deviceRadio","toFixed","observer","EVENT_TYPE","on","event","fn","indexOf","methods","console","log","JSON","stringify","boundWidth","boundHeight","_self$cut","_self$cut$x","x","_self$cut$y","y","_self$cut$width","_self$cut$height","updateCanvas","croperTarget","drawImage","imgLeft","imgTop","scaleWidth","scaleHeight","setBoundStyle","draw","pushOrign","uni","getImageInfo","success","res","innerAspectRadio","path","rectX","baseWidth","baseHeight","rectY","Math","abs","update","getCropperImage","args","ARG_TYPE","toString","call","_args$0$quality","quality","canvasToTempFilePath","canvasId","destWidth","destHeight","tempFilePath","fileType","__oneTouchStart","touch","touchX0","touchY0","__oneTouchMove","xMove","yMove","touchended","outsideBound","__twoTouchStart","touch0","touch1","oldDistance","touchX1","touchY1","sqrt","__twoTouchMove","newDistance","newScale","oldScale","__xtouchEnd","handle","touchStart","e","_e$touches","touches","clientX","clientY","touchMove","_e$touches2","touchEnd","_ref","_ref$color","color","_ref$mask","mask","_ref$lineWidth","lineWidth","beginPath","setFillStyle","fillRect","fill","setStrokeStyle","setLineWidth","moveTo","lineTo","stroke","__version__","weCropper","params","_default","keys","assign","cutt","init","version","windowHeight","data","cropperOpt","back","redirectTo","url","convertBase64UrlToBlob","dataURI","type","binary","atob","split","array","charCodeAt","Blob","Uint8Array","filename","blobToDataURL","blob","a","FileReader","readAsDataURL","onload","getRes","result","userInfo","getGlobalUserInfo","navigateTo","that","avatar","uploadFile","$serverUrl","filePath","name","header","userToken","parse","hideLoading","status","showToast","title","icon","imageUrl","faceUrl","msg","switchTab","uploadTap","chooseImage","count","sizeType","sourceType","tempFilePaths","onLoad","option","duration","hideToast"],"mappings":"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","file":"pages/upload/upload.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/upload/upload.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./upload.vue?vue&type=template&id=2bc0a167&\"\nimport script from \"./upload.vue?vue&type=script&lang=js&\"\nexport * from \"./upload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Guetta Xia\\\\Desktop\\\\Year3\\\\GRP\\\\FrontEnd\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2bc0a167', component.options)\n    } else {\n      api.reload('2bc0a167', component.options)\n    }\n    module.hot.accept(\"./upload.vue?vue&type=template&id=2bc0a167&\", function () {\n      api.rerender('2bc0a167', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"动态SFS/short-film-show-client/TheShortFilmShow/pages/upload/upload.vue\"\nexport default component.exports","import mod from \"-!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Year3/GRP/FrontEnd/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=template&id=2bc0a167&\"","(function(global, factory) {\r\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n\t\ttypeof define === 'function' && define.amd ? define(factory) :\r\n\t\t(global.weCropper = factory());\r\n}(this, (function() {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Created by sail on 2017/6/11.\r\n\t */\r\n\tvar device = void 0;\r\n\tvar TOUCH_STATE = ['touchstarted', 'touchmoved', 'touchended'];\r\n\r\n\tfunction firstLetterUpper(str) {\r\n\t\treturn str.charAt(0).toUpperCase() + str.slice(1);\r\n\t}\r\n\r\n\tfunction setTouchState(instance) {\r\n\t\tfor (var _len = arguments.length, arg = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\r\n\t\t\targ[_key - 1] = arguments[_key];\r\n\t\t}\r\n\r\n\t\tTOUCH_STATE.forEach(function(key, i) {\r\n\t\t\tif (arg[i] !== undefined) {\r\n\t\t\t\tinstance[key] = arg[i];\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction validator(instance, o) {\r\n\t\tObject.defineProperties(instance, o);\r\n\t}\r\n\r\n\tfunction getDevice() {\r\n\t\tif (!device) {\r\n\t\t\tdevice = wx.getSystemInfoSync();\r\n\t\t}\r\n\t\treturn device;\r\n\t}\r\n\r\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function(obj) {\r\n\t\treturn typeof obj;\r\n\t} : function(obj) {\r\n\t\treturn obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" :\r\n\t\t\ttypeof obj;\r\n\t};\r\n\r\n\r\n\r\n\r\n\tvar classCallCheck = function(instance, Constructor) {\r\n\t\tif (!(instance instanceof Constructor)) {\r\n\t\t\tthrow new TypeError(\"Cannot call a class as a function\");\r\n\t\t}\r\n\t};\r\n\r\n\tvar createClass = function() {\r\n\t\tfunction defineProperties(target, props) {\r\n\t\t\tfor (var i = 0; i < props.length; i++) {\r\n\t\t\t\tvar descriptor = props[i];\r\n\t\t\t\tdescriptor.enumerable = descriptor.enumerable || false;\r\n\t\t\t\tdescriptor.configurable = true;\r\n\t\t\t\tif (\"value\" in descriptor) descriptor.writable = true;\r\n\t\t\t\tObject.defineProperty(target, descriptor.key, descriptor);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn function(Constructor, protoProps, staticProps) {\r\n\t\t\tif (protoProps) defineProperties(Constructor.prototype, protoProps);\r\n\t\t\tif (staticProps) defineProperties(Constructor, staticProps);\r\n\t\t\treturn Constructor;\r\n\t\t};\r\n\t}();\r\n\r\n\r\n\r\n\r\n\tvar slicedToArray = function() {\r\n\t\tfunction sliceIterator(arr, i) {\r\n\t\t\tvar _arr = [];\r\n\t\t\tvar _n = true;\r\n\t\t\tvar _d = false;\r\n\t\t\tvar _e = undefined;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tfor (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\r\n\t\t\t\t\t_arr.push(_s.value);\r\n\r\n\t\t\t\t\tif (i && _arr.length === i) break;\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\t_d = true;\r\n\t\t\t\t_e = err;\r\n\t\t\t} finally {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (!_n && _i[\"return\"]) _i[\"return\"]();\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tif (_d) throw _e;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn _arr;\r\n\t\t}\r\n\r\n\t\treturn function(arr, i) {\r\n\t\t\tif (Array.isArray(arr)) {\r\n\t\t\t\treturn arr;\r\n\t\t\t} else if (Symbol.iterator in Object(arr)) {\r\n\t\t\t\treturn sliceIterator(arr, i);\r\n\t\t\t} else {\r\n\t\t\t\tthrow new TypeError(\"Invalid attempt to destructure non-iterable instance\");\r\n\t\t\t}\r\n\t\t};\r\n\t}();\r\n\r\n\tvar tmp = {};\r\n\r\n\tvar DEFAULT = {\r\n\t\tid: {\r\n\t\t\tdefault: 'cropper',\r\n\t\t\tget: function get$$1() {\r\n\t\t\t\treturn tmp.id;\r\n\t\t\t},\r\n\t\t\tset: function set$$1(value) {\r\n\t\t\t\tif (typeof value !== 'string') {}\r\n\t\t\t\ttmp.id = value;\r\n\t\t\t}\r\n\t\t},\r\n\t\twidth: {\r\n\t\t\tdefault: 750,\r\n\t\t\tget: function get$$1() {\r\n\t\t\t\treturn tmp.width;\r\n\t\t\t},\r\n\t\t\tset: function set$$1(value) {\r\n\t\t\t\ttmp.width = value;\r\n\t\t\t}\r\n\t\t},\r\n\t\theight: {\r\n\t\t\tdefault: 750,\r\n\t\t\tget: function get$$1() {\r\n\t\t\t\treturn tmp.height;\r\n\t\t\t},\r\n\t\t\tset: function set$$1(value) {\r\n\t\t\t\ttmp.height = value;\r\n\t\t\t}\r\n\t\t},\r\n\t\tscale: {\r\n\t\t\tdefault: 2.5,\r\n\t\t\tget: function get$$1() {\r\n\t\t\t\treturn tmp.scale;\r\n\t\t\t},\r\n\t\t\tset: function set$$1(value) {\r\n\t\t\t\ttmp.scale = value;\r\n\t\t\t}\r\n\t\t},\r\n\t\tzoom: {\r\n\t\t\tdefault: 5,\r\n\t\t\tget: function get$$1() {\r\n\t\t\t\treturn tmp.zoom;\r\n\t\t\t},\r\n\t\t\tset: function set$$1(value) {\r\n\t\t\t\ttmp.zoom = value;\r\n\t\t\t}\r\n\t\t},\r\n\t\tsrc: {\r\n\t\t\tdefault: 'cropper',\r\n\t\t\tget: function get$$1() {\r\n\t\t\t\treturn tmp.src;\r\n\t\t\t},\r\n\t\t\tset: function set$$1(value) {\r\n\t\t\t\ttmp.src = value;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcut: {\r\n\t\t\tdefault: {},\r\n\t\t\tget: function get$$1() {\r\n\t\t\t\treturn tmp.cut;\r\n\t\t\t},\r\n\t\t\tset: function set$$1(value) {\r\n\t\t\t\ttmp.cut = value;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady: {\r\n\t\t\tdefault: null,\r\n\t\t\tget: function get$$1() {\r\n\t\t\t\treturn tmp.ready;\r\n\t\t\t},\r\n\t\t\tset: function set$$1(value) {\r\n\t\t\t\ttmp.ready = value;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBeforeImageLoad: {\r\n\t\t\tdefault: null,\r\n\t\t\tget: function get$$1() {\r\n\t\t\t\treturn tmp.beforeImageLoad;\r\n\t\t\t},\r\n\t\t\tset: function set$$1(value) {\r\n\t\t\t\ttmp.beforeImageLoad = value;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonImageLoad: {\r\n\t\t\tdefault: null,\r\n\t\t\tget: function get$$1() {\r\n\t\t\t\treturn tmp.imageLoad;\r\n\t\t\t},\r\n\t\t\tset: function set$$1(value) {\r\n\t\t\t\ttmp.imageLoad = value;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonBeforeDraw: {\r\n\t\t\tdefault: null,\r\n\t\t\tget: function get$$1() {\r\n\t\t\t\treturn tmp.beforeDraw;\r\n\t\t\t},\r\n\t\t\tset: function set$$1(value) {\r\n\t\t\t\ttmp.beforeDraw = value;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Created by sail on 2017/6/11.\r\n\t */\r\n\tfunction prepare() {\r\n\t\tvar self = this;\r\n\r\n\t\tvar _getDevice = getDevice(),\r\n\t\t\twindowWidth = _getDevice.windowWidth;\r\n\r\n\t\tself.attachPage = function() {\r\n\t\t\tvar pages = getCurrentPages\r\n\t\t\t//  获取到当前page上下文\r\n\t\t\t();\r\n\t\t\tvar pageContext = pages[pages.length - 1];\r\n\t\t\t//  把this依附在Page上下文的wecropper属性上，便于在page钩子函数中访问\r\n\t\t\tpageContext.wecropper = self;\r\n\t\t};\r\n\r\n\t\tself.createCtx = function() {\r\n\t\t\tvar id = self.id;\r\n\r\n\t\t\tif (id) {\r\n\t\t\t\tself.ctx = wx.createCanvasContext(id);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tself.deviceRadio = windowWidth / 750;\r\n\t\tself.deviceRadio = self.deviceRadio.toFixed(2)\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t */\r\n\tfunction observer() {\r\n\t\tvar self = this;\r\n\r\n\t\tvar EVENT_TYPE = ['ready', 'beforeImageLoad', 'beforeDraw', 'imageLoad'];\r\n\r\n\t\tself.on = function(event, fn) {\r\n\t\t\tif (EVENT_TYPE.indexOf(event) > -1) {\r\n\t\t\t\tif (typeof fn === 'function') {\r\n\t\t\t\t\tevent === 'ready' ? fn(self) : self['on' + firstLetterUpper(event)] = fn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn self;\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Created by sail on 2017/6/11.\r\n\t */\r\n\tfunction methods() {\r\n\t\tvar self = this;\r\n\r\n\t\tvar deviceRadio = self.deviceRadio;\r\n\t\tconsole.log(JSON.stringify(self));\r\n\r\n\t\tvar boundWidth = self.width; // 裁剪框默认宽度，即整个画布宽度\r\n\t\tvar boundHeight = self.height; // 裁剪框默认高度，即整个画布高度\r\n\t\tvar _self$cut = self.cut,\r\n\t\t\t_self$cut$x = _self$cut.x,\r\n\t\t\tx = _self$cut$x === undefined ? 0 : _self$cut$x,\r\n\t\t\t_self$cut$y = _self$cut.y,\r\n\t\t\ty = _self$cut$y === undefined ? 0 : _self$cut$y,\r\n\t\t\t_self$cut$width = _self$cut.width,\r\n\t\t\twidth = _self$cut$width === undefined ? boundWidth : _self$cut$width,\r\n\t\t\t_self$cut$height = _self$cut.height,\r\n\t\t\theight = _self$cut$height === undefined ? boundHeight : _self$cut$height;\r\n\r\n\r\n\t\tself.updateCanvas = function() {\r\n\t\t\tif (self.croperTarget) {\r\n\r\n\t\t\t\t//  画布绘制图片\r\n\t\t\t\tself.ctx.drawImage(self.croperTarget, self.imgLeft, self.imgTop, self.scaleWidth, self.scaleHeight);\r\n\t\t\t}\r\n\t\t\ttypeof self.onBeforeDraw === 'function' && self.onBeforeDraw(self.ctx, self);\r\n\r\n\t\t\tself.setBoundStyle //\t设置边界样式\r\n\t\t\t();\r\n\t\t\tself.ctx.draw();\r\n\t\t\treturn self;\r\n\t\t};\r\n\r\n\t\tself.pushOrign = function(src) {\r\n\t\t\tself.src = src;\r\n\r\n\t\t\ttypeof self.onBeforeImageLoad === 'function' && self.onBeforeImageLoad(self.ctx, self);\r\n\r\n\t\t\tuni.getImageInfo({\r\n\t\t\t\tsrc: src,\r\n\t\t\t\tsuccess: function success(res) {\r\n\t\t\t\t\tvar innerAspectRadio = res.width / res.height;\r\n\t\t\t\t\tself.croperTarget = res.path || src;\r\n\t\t\t\t\tif (innerAspectRadio < width / height) {\r\n\t\t\t\t\t\tself.rectX = x;\r\n\t\t\t\t\t\tself.baseWidth = width;\r\n\t\t\t\t\t\tself.baseHeight = width / innerAspectRadio;\r\n\t\t\t\t\t\tself.rectY = y - Math.abs((height - self.baseHeight) / 2);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.rectY = y;\r\n\t\t\t\t\t\tself.baseWidth = height * innerAspectRadio;\r\n\t\t\t\t\t\tself.baseHeight = height;\r\n\t\t\t\t\t\tself.rectX = x - Math.abs((width - self.baseWidth) / 2);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tself.imgLeft = self.rectX;\r\n\t\t\t\t\tself.imgTop = self.rectY;\r\n\t\t\t\t\tself.scaleWidth = self.baseWidth;\r\n\t\t\t\t\tself.scaleHeight = self.baseHeight;\r\n\r\n\t\t\t\t\tself.updateCanvas();\r\n\r\n\t\t\t\t\ttypeof self.onImageLoad === 'function' && self.onImageLoad(self.ctx, self);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tself.update();\r\n\t\t\treturn self;\r\n\t\t};\r\n\r\n\t\tself.getCropperImage = function() {\r\n\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n\t\t\t\targs[_key] = arguments[_key];\r\n\t\t\t}\r\n\r\n\t\t\tvar id = self.id;\r\n\r\n\t\t\tvar ARG_TYPE = toString.call(args[0]);\r\n\t\t\tswitch (ARG_TYPE) {\r\n\t\t\t\tcase '[object Object]':\r\n\t\t\t\t\tvar _args$0$quality = args[0].quality,\r\n\t\t\t\t\t\tquality = _args$0$quality === undefined ? 10 : _args$0$quality;\r\n\t\t\t\t\tconsole.log(\"quality--\" + quality);\r\n\r\n\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t\tcanvasId: id,\r\n\t\t\t\t\t\tx: x,\r\n\t\t\t\t\t\ty: y,\r\n\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\tdestWidth: width * quality / (deviceRadio * 10),\r\n\t\t\t\t\t\tdestHeight: height * quality / (deviceRadio * 10),\r\n\t\t\t\t\t\tsuccess: function success(res) {\r\n\t\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\t\ttypeof args[args.length - 1] === 'function' && args[args.length - 1](res.tempFilePath);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '[object Function]':\r\n\t\t\t\t\tuni.canvasToTempFilePath({\r\n\t\t\t\t\t\tcanvasId: id,\r\n\t\t\t\t\t\tx: x,\r\n\t\t\t\t\t\ty: y,\r\n\t\t\t\t\t\tfileType: \"jpg\",\r\n\t\t\t\t\t\twidth: width,\r\n\t\t\t\t\t\theight: height,\r\n\t\t\t\t\t\tdestWidth: width,\r\n\t\t\t\t\t\tdestHeight: height,\r\n\t\t\t\t\t\tsuccess: function success(res) {\r\n\r\n\t\t\t\t\t\t\ttypeof args[args.length - 1] === 'function' && args[args.length - 1](res.tempFilePath);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn self;\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Created by sail on 2017/6/11.\r\n\t */\r\n\tfunction update() {\r\n\t\tvar self = this;\r\n\t\tif (!self.src) return;\r\n\r\n\t\tself.__oneTouchStart = function(touch) {\r\n\t\t\tself.touchX0 = touch.x;\r\n\t\t\tself.touchY0 = touch.y;\r\n\t\t};\r\n\r\n\t\tself.__oneTouchMove = function(touch) {\r\n\t\t\tvar xMove = void 0,\r\n\t\t\t\tyMove = void 0;\r\n\t\t\t//计算单指移动的距离\r\n\t\t\tif (self.touchended) {\r\n\t\t\t\treturn self.updateCanvas();\r\n\t\t\t}\r\n\t\t\txMove = touch.x - self.touchX0;\r\n\t\t\tyMove = touch.y - self.touchY0;\r\n\r\n\t\t\tvar imgLeft = self.rectX + xMove;\r\n\t\t\tvar imgTop = self.rectY + yMove;\r\n\r\n\t\t\tself.outsideBound(imgLeft, imgTop);\r\n\r\n\t\t\tself.updateCanvas();\r\n\t\t};\r\n\r\n\t\tself.__twoTouchStart = function(touch0, touch1) {\r\n\t\t\tvar xMove = void 0,\r\n\t\t\t\tyMove = void 0,\r\n\t\t\t\toldDistance = void 0;\r\n\r\n\t\t\tself.touchX1 = self.rectX + self.scaleWidth / 2;\r\n\t\t\tself.touchY1 = self.rectY + self.scaleHeight / 2;\r\n\r\n\t\t\t//计算两指距离\r\n\t\t\txMove = touch1.x - touch0.x;\r\n\t\t\tyMove = touch1.y - touch0.y;\r\n\t\t\toldDistance = Math.sqrt(xMove * xMove + yMove * yMove);\r\n\r\n\t\t\tself.oldDistance = oldDistance;\r\n\t\t};\r\n\r\n\t\tself.__twoTouchMove = function(touch0, touch1) {\r\n\t\t\tvar xMove = void 0,\r\n\t\t\t\tyMove = void 0,\r\n\t\t\t\tnewDistance = void 0;\r\n\t\t\tvar scale = self.scale,\r\n\t\t\t\tzoom = self.zoom;\r\n\t\t\t// 计算二指最新距离\r\n\r\n\t\t\txMove = touch1.x - touch0.x;\r\n\t\t\tyMove = touch1.y - touch0.y;\r\n\t\t\tnewDistance = Math.sqrt(xMove * xMove + yMove * yMove\r\n\r\n\t\t\t\t//  使用0.005的缩放倍数具有良好的缩放体验\r\n\t\t\t);\r\n\t\t\tself.newScale = self.oldScale + 0.001 * zoom * (newDistance - self.oldDistance);\r\n\r\n\t\t\t//  设定缩放范围\r\n\t\t\tself.newScale <= 1 && (self.newScale = 1);\r\n\t\t\tself.newScale >= scale && (self.newScale = scale);\r\n\r\n\t\t\tself.scaleWidth = self.newScale * self.baseWidth;\r\n\t\t\tself.scaleHeight = self.newScale * self.baseHeight;\r\n\t\t\tvar imgLeft = self.touchX1 - self.scaleWidth / 2;\r\n\t\t\tvar imgTop = self.touchY1 - self.scaleHeight / 2;\r\n\r\n\t\t\tself.outsideBound(imgLeft, imgTop);\r\n\r\n\t\t\tself.updateCanvas();\r\n\t\t};\r\n\r\n\t\tself.__xtouchEnd = function() {\r\n\t\t\tself.oldScale = self.newScale;\r\n\t\t\tself.rectX = self.imgLeft;\r\n\t\t\tself.rectY = self.imgTop;\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Created by sail on 2017/6/11.\r\n\t */\r\n\r\n\tvar handle = {\r\n\t\t//  图片手势初始监测\r\n\t\ttouchStart: function touchStart(e) {\r\n\t\t\tvar self = this;\r\n\t\t\tvar _e$touches = slicedToArray(e.touches, 2),\r\n\t\t\t\ttouch0 = _e$touches[0],\r\n\t\t\t\ttouch1 = _e$touches[1];\r\n\r\n\t\t\tconsole.log(JSON.stringify(touch1));\r\n\t\t\tif (!touch0.x) {\r\n\t\t\t\ttouch0.x = touch0.clientX;\r\n\t\t\t\ttouch0.y = touch0.clientY;\r\n\t\t\t\tif (touch1) {\r\n\t\t\t\t\ttouch1.x = touch1.clientX;\r\n\t\t\t\t\ttouch1.y = touch1.clientY;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tsetTouchState(self, true, null, null\r\n\r\n\t\t\t\t//计算第一个触摸点的位置，并参照改点进行缩放\r\n\t\t\t);\r\n\t\t\tself.__oneTouchStart(touch0\r\n\r\n\t\t\t\t// 两指手势触发\r\n\t\t\t);\r\n\t\t\tif (e.touches.length >= 2) {\r\n\t\t\t\tself.__twoTouchStart(touch0, touch1);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\t//  图片手势动态缩放\r\n\t\ttouchMove: function touchMove(e) {\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tvar _e$touches2 = slicedToArray(e.touches, 2),\r\n\t\t\t\ttouch0 = _e$touches2[0],\r\n\t\t\t\ttouch1 = _e$touches2[1];\r\n\t\t\tif (!touch0.x) {\r\n\t\t\t\ttouch0.x = touch0.clientX;\r\n\t\t\t\ttouch0.y = touch0.clientY;\r\n\t\t\t\tif (touch1) {\r\n\t\t\t\t\ttouch1.x = touch1.clientX;\r\n\t\t\t\t\ttouch1.y = touch1.clientY;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsetTouchState(self, null, true\r\n\r\n\t\t\t\t// 单指手势时触发\r\n\t\t\t);\r\n\t\t\tif (e.touches.length === 1) {\r\n\t\t\t\tself.__oneTouchMove(touch0);\r\n\t\t\t}\r\n\t\t\t// 两指手势触发\r\n\t\t\tif (e.touches.length >= 2) {\r\n\t\t\t\tself.__twoTouchMove(touch0, touch1);\r\n\t\t\t}\r\n\t\t},\r\n\t\ttouchEnd: function touchEnd(e) {\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tsetTouchState(self, false, false, true);\r\n\t\t\tself.__xtouchEnd();\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Created by sail on 1017/6/12.\r\n\t */\r\n\tfunction cut() {\r\n\t\tvar self = this;\r\n\t\tvar deviceRadio = self.deviceRadio;\r\n\r\n\t\tvar boundWidth = self.width; // 裁剪框默认宽度，即整个画布宽度\r\n\t\tvar boundHeight = self.height;\r\n\t\t// 裁剪框默认高度，即整个画布高度\r\n\t\tvar _self$cut = self.cut,\r\n\t\t\t_self$cut$x = _self$cut.x,\r\n\t\t\tx = _self$cut$x === undefined ? 0 : _self$cut$x,\r\n\t\t\t_self$cut$y = _self$cut.y,\r\n\t\t\ty = _self$cut$y === undefined ? 0 : _self$cut$y,\r\n\t\t\t_self$cut$width = _self$cut.width,\r\n\t\t\twidth = _self$cut$width === undefined ? boundWidth : _self$cut$width,\r\n\t\t\t_self$cut$height = _self$cut.height,\r\n\t\t\theight = _self$cut$height === undefined ? boundHeight : _self$cut$height;\r\n\r\n\t\t/**\r\n\t\t * 设置边界\r\n\t\t * @param imgLeft 图片左上角横坐标值\r\n\t\t * @param imgTop 图片左上角纵坐标值\r\n\t\t */\r\n\r\n\t\tself.outsideBound = function(imgLeft, imgTop) {\r\n\t\t\tself.imgLeft = imgLeft >= x ? x : self.scaleWidth + imgLeft - x <= width ? x + width - self.scaleWidth : imgLeft;\r\n\r\n\t\t\tself.imgTop = imgTop >= y ? y : self.scaleHeight + imgTop - y <= height ? y + height - self.scaleHeight : imgTop;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * 设置边界样式\r\n\t\t * @param color\t边界颜色\r\n\t\t */\r\n\t\tself.setBoundStyle = function() {\r\n\t\t\tvar _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\r\n\t\t\t\t_ref$color = _ref.color,\r\n\t\t\t\tcolor = _ref$color === undefined ? '#04b00f' : _ref$color,\r\n\t\t\t\t_ref$mask = _ref.mask,\r\n\t\t\t\tmask = _ref$mask === undefined ? 'rgba(0, 0, 0, 0.3)' : _ref$mask,\r\n\t\t\t\t_ref$lineWidth = _ref.lineWidth,\r\n\t\t\t\tlineWidth = _ref$lineWidth === undefined ? 1 : _ref$lineWidth;\r\n\r\n\t\t\t// 绘制半透明层\r\n\t\t\tself.ctx.beginPath();\r\n\t\t\tself.ctx.setFillStyle(mask);\r\n\t\t\tself.ctx.fillRect(0, 0, x, boundHeight);\r\n\t\t\tself.ctx.fillRect(x, 0, width, y);\r\n\t\t\tself.ctx.fillRect(x, y + height, width, boundHeight - y - height);\r\n\t\t\tself.ctx.fillRect(x + width, 0, boundWidth - x - width, boundHeight);\r\n\t\t\tself.ctx.fill\r\n\r\n\t\t\t// 设置边界左上角样式\r\n\t\t\t// 为使边界样式处于边界外边缘，此时x、y均要减少lineWidth\r\n\t\t\t();\r\n\t\t\tself.ctx.beginPath();\r\n\t\t\tself.ctx.setStrokeStyle(color);\r\n\t\t\tself.ctx.setLineWidth(lineWidth);\r\n\t\t\tself.ctx.moveTo(x - lineWidth, y + 10 - lineWidth);\r\n\t\t\tself.ctx.lineTo(x - lineWidth, y - lineWidth);\r\n\t\t\tself.ctx.lineTo(x + 10 - lineWidth, y - lineWidth);\r\n\t\t\tself.ctx.stroke\r\n\r\n\t\t\t// 设置边界左下角样式\r\n\t\t\t// 为使边界样式处于边界外边缘，此时x要减少lineWidth、y要增加lineWidth\r\n\t\t\t();\r\n\t\t\tself.ctx.beginPath();\r\n\t\t\tself.ctx.setStrokeStyle(color);\r\n\t\t\tself.ctx.setLineWidth(lineWidth);\r\n\t\t\tself.ctx.moveTo(x - lineWidth, y + height - 10 + lineWidth);\r\n\t\t\tself.ctx.lineTo(x - lineWidth, y + height + lineWidth);\r\n\t\t\tself.ctx.lineTo(x + 10 - lineWidth, y + height + lineWidth);\r\n\t\t\tself.ctx.stroke\r\n\r\n\t\t\t// 设置边界右上角样式\r\n\t\t\t// 为使边界样式处于边界外边缘，此时x要增加lineWidth、y要减少lineWidth\r\n\t\t\t();\r\n\t\t\tself.ctx.beginPath();\r\n\t\t\tself.ctx.setStrokeStyle(color);\r\n\t\t\tself.ctx.setLineWidth(lineWidth);\r\n\t\t\tself.ctx.moveTo(x + width - 10 + lineWidth, y - lineWidth);\r\n\t\t\tself.ctx.lineTo(x + width + lineWidth, y - lineWidth);\r\n\t\t\tself.ctx.lineTo(x + width + lineWidth, y + 10 - lineWidth);\r\n\t\t\tself.ctx.stroke\r\n\r\n\t\t\t// 设置边界右下角样式\r\n\t\t\t// 为使边界样式处于边界外边缘，此时x、y均要增加lineWidth\r\n\t\t\t();\r\n\t\t\tself.ctx.beginPath();\r\n\t\t\tself.ctx.setStrokeStyle(color);\r\n\t\t\tself.ctx.setLineWidth(lineWidth);\r\n\t\t\tself.ctx.moveTo(x + width + lineWidth, y + height - 10 + lineWidth);\r\n\t\t\tself.ctx.lineTo(x + width + lineWidth, y + height + lineWidth);\r\n\t\t\tself.ctx.lineTo(x + width - 10 + lineWidth, y + height + lineWidth);\r\n\t\t\tself.ctx.stroke();\r\n\t\t};\r\n\t}\r\n\r\n\tvar __version__ = '1.1.4';\r\n\r\n\tvar weCropper = function() {\r\n\t\tfunction weCropper(params) {\r\n\t\t\tclassCallCheck(this, weCropper);\r\n\r\n\t\t\tvar self = this;\r\n\t\t\tvar _default = {};\r\n\r\n\t\t\tvalidator(self, DEFAULT);\r\n\r\n\t\t\tObject.keys(DEFAULT).forEach(function(key) {\r\n\t\t\t\t_default[key] = DEFAULT[key].default;\r\n\t\t\t});\r\n\t\t\tObject.assign(self, _default, params);\r\n\r\n\t\t\tself.prepare();\r\n\t\t\tself.attachPage();\r\n\t\t\tself.createCtx();\r\n\t\t\tself.observer();\r\n\t\t\tself.cutt();\r\n\t\t\tself.methods();\r\n\t\t\tself.init();\r\n\t\t\tself.update();\r\n\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\tcreateClass(weCropper, [{\r\n\t\t\tkey: 'init',\r\n\t\t\tvalue: function init() {\r\n\t\t\t\tvar self = this;\r\n\t\t\t\tvar src = self.src;\r\n\r\n\r\n\t\t\t\tself.version = __version__;\r\n\r\n\t\t\t\ttypeof self.onReady === 'function' && self.onReady(self.ctx, self);\r\n\r\n\t\t\t\tif (src) {\r\n\t\t\t\t\tself.pushOrign(src);\r\n\t\t\t\t}\r\n\t\t\t\tsetTouchState(self, false, false, false);\r\n\r\n\t\t\t\tself.oldScale = 1;\r\n\t\t\t\tself.newScale = 1;\r\n\r\n\t\t\t\treturn self;\r\n\t\t\t}\r\n\t\t}]);\r\n\t\treturn weCropper;\r\n\t}();\r\n\r\n\tObject.assign(weCropper.prototype, handle);\r\n\r\n\r\n\tweCropper.prototype.prepare = prepare;\r\n\tweCropper.prototype.observer = observer;\r\n\tweCropper.prototype.methods = methods;\r\n\tweCropper.prototype.cutt = cut;\r\n\tweCropper.prototype.update = update;\r\n\r\n\treturn weCropper;\r\n\r\n})));\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport weCropper from '../../static/weCropper';\nconst device = uni.getSystemInfoSync();\nconst width = device.windowWidth;\nconst height = device.windowHeight - 50;\nconsole.log(device);\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tcropperOpt: {\n\t\t\t\tid: 'cropper',\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tscale: 2.5,\n\t\t\t\tzoom: 8,\n\t\t\t\tcut: {\n\t\t\t\t\tx: (width - 295) / 2,\n\t\t\t\t\ty: (height - 413) / 2,\n\t\t\t\t\twidth: 295,\n\t\t\t\t\theight: 413\n\t\t\t\t}\n\t\t\t},\n\t\t\tweCropper: ''\n\t\t};\n\t},\n\tmethods: {\n\t\tback() {\n\t\t\tuni.redirectTo({\n\t\t\t\turl: '../infoDetail/infoDetail'\n\t\t\t});\n\t\t},\n\t\ttouchStart(e) {\n\t\t\tthis.weCropper.touchStart(e);\n\t\t},\n\t\ttouchMove(e) {\n\t\t\tthis.weCropper.touchMove(e);\n\t\t},\n\t\ttouchEnd(e) {\n\t\t\tthis.weCropper.touchEnd(e);\n\t\t},\n\t\tconvertBase64UrlToBlob(dataURI, type) {\n\t\t\tvar binary = atob(dataURI.split(',')[1]);\n\t\t\tvar array = [];\n\t\t\tfor (var i = 0; i < binary.length; i++) {\n\t\t\t\tarray.push(binary.charCodeAt(i));\n\t\t\t}\n\t\t\treturn new Blob([new Uint8Array(array)], {\n\t\t\t\ttype: type\n\t\t\t}, {\n\t\t\t\tfilename: '1111.jpg'\n\t\t\t});\n\t\t},\n\t\tblobToDataURL(blob) {\n\t\t\tvar a = new FileReader();\n\t\t\ta.readAsDataURL(blob); //读取文件保存在result中\n\t\t\ta.onload = function(e) {\n\t\t\t\tvar getRes = e.target.result; //读取的结果在result中\n\t\t\t\tconsole.log(getRes);\n\t\t\t};\n\t\t},\n\t\tgetCropperImage() {\n\t\t\tvar userInfo = this.getGlobalUserInfo();\n\t\t\tif (userInfo == null || userInfo == undefined || userInfo == \"\") {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../login/login',\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tvar that = this;\n\t\t\t// var pathurl = that.$serverUrl + '/user/uploadFace?userId='; //上传服务器地址\n\t\t\tthis.weCropper.getCropperImage(avatar => {\n\t\t\t\tif (avatar) {\n\t\t\t\t\t//  获取到裁剪后的图片\n\t\t\t\t\t//  获取到裁剪后的图片\n\t\t\t\t\t// uni.redirectTo({\n\t\t\t\t\t// \turl: '../profile/profile?avatar=' + avatar\n\t\t\t\t\t// })\n\n\t\t\t\t\t//下面是上传到服务器的方法\n\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\turl: that.$serverUrl + '/user/uploadFace?userId=' + userInfo.id,\n\t\t\t\t\t\tfilePath: that.cropperOpt.src,\n\t\t\t\t\t\tname: 'file',\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t'content-type': 'application/json',\n\t\t\t\t\t\t\t'userId': userInfo.id,\n\t\t\t\t\t\t\t'userToken': userInfo.userToken,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t// console.log(res)\n\t\t\t\t\t\t\t// console.log(\"id=\" + userInfo.id);\n\t\t\t\t\t\t\t// console.log(\"Token=\" + userInfo.userToken);\n\t\t\t\t\t\t\tvar data = JSON.parse(res.data);\n\t\t\t\t\t\t\t// console.log(data.data);\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tif (data.status == 200) {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: 'Success!',\n\t\t\t\t\t\t\t\t\ticon: \"success\"\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tvar imageUrl = data.data;\n\t\t\t\t\t\t\t\tthat.faceUrl = that.$serverUrl + imageUrl;\n\t\t\t\t\t\t\t} else if (data.status == 502) {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: data.msg\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\turl: '../profile/profile'\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// uni.uploadFile({\n\t\t\t\t\t// \turl: pathurl,\n\t\t\t\t\t// \tfilePath: avatar,\n\t\t\t\t\t// \tname: 'file',\n\t\t\t\t\t// \tformData: {\n\t\t\t\t\t// \t\ttoken: token,\n\t\t\t\t\t// \t\tuserId: userId\n\t\t\t\t\t// \t},\n\t\t\t\t\t// \tsuccess: res => {\n\t\t\t\t\t// \t\tconsole.log('uploadImage success, res is:', res);\n\t\t\t\t\t// \t\tuni.showToast({\n\t\t\t\t\t// \t\t\ttitle: '上传成功',\n\t\t\t\t\t// \t\t\ticon: 'success',\n\t\t\t\t\t// \t\t\tduration: 1000\n\t\t\t\t\t// \t\t});\n\t\t\t\t\t// \t},\n\t\t\t\t\t// \tfail: err => {\n\t\t\t\t\t// \t\tconsole.log('uploadImage fail', err);\n\t\t\t\t\t// \t\tuni.showModal({\n\t\t\t\t\t// \t\t\tcontent: err.errMsg,\n\t\t\t\t\t// \t\t\tshowCancel: false\n\t\t\t\t\t// \t\t});\n\t\t\t\t\t// \t\tuni.hideLoading();\n\t\t\t\t\t// \t},\n\t\t\t\t\t// \tcomplete: () => {\n\t\t\t\t\t// \t\tconsole.log('complate');\n\t\t\t\t\t// \t}\n\t\t\t\t\t// });\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('获取图片失败，请稍后重试');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tuploadTap() {\n\t\t\tconst that = this;\n\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1, // 默认9\n\t\t\t\tsizeType: ['compressed'], // 可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tlet src = res.tempFilePaths[0];\n\t\t\t\t\t//  获取裁剪图片资源后，给data添加src属性及其值\n\n\t\t\t\t\tthat.weCropper.pushOrign(src);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tonLoad(option) {\n\t\t// do something\n\t\tconst cropperOpt = this.cropperOpt;\n\t\tconst src = option.src;\n\t\tif (src) {\n\t\t\tObject.assign(cropperOpt, {\n\t\t\t\tsrc\n\t\t\t});\n\n\t\t\tthis.weCropper = new weCropper(cropperOpt)\n\t\t\t\t.on('ready', function(ctx) {})\n\t\t\t\t.on('beforeImageLoad', ctx => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '上传中',\n\t\t\t\t\t\ticon: 'loading',\n\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.on('imageLoad', ctx => {\n\t\t\t\t\tuni.hideToast();\n\t\t\t\t});\n\t\t}\n\t\tconsole.log(this.cropperOpt.src);\n\t}\n};\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", { staticClass: \"content\" }, [\n    _c(\n      \"view\",\n      { staticClass: \"cropper-wrapper\", staticStyle: { height: \"617px\" } },\n      [\n        _c(\"canvas\", {\n          staticClass: \"cropper\",\n          style: { width: _vm.cropperOpt.width, height: _vm.cropperOpt.height },\n          attrs: {\n            \"disable-scroll\": \"true\",\n            \"canvas-id\": \"cropper\",\n            eventid: \"9ab6735a-0\"\n          },\n          on: {\n            touchstart: _vm.touchStart,\n            touchmove: _vm.touchMove,\n            touchend: _vm.touchEnd\n          }\n        })\n      ]\n    ),\n    _c(\"view\", { staticClass: \"cropper-buttons\" }, [\n      _c(\n        \"view\",\n        {\n          staticClass: \"upload\",\n          attrs: { eventid: \"9ab6735a-1\" },\n          on: { tap: _vm.uploadTap }\n        },\n        [_vm._v(\"Browse Album\")]\n      ),\n      _c(\n        \"view\",\n        {\n          staticClass: \"getCropperImage\",\n          attrs: { eventid: \"9ab6735a-2\" },\n          on: { tap: _vm.getCropperImage }\n        },\n        [_vm._v(\"Confirm\")]\n      )\n    ])\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}